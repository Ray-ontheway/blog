<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Github Action 第一次记录 | 学习思考的人机</title>
    <meta name="description" content="记录思考, 分享知识">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/assets/style.BdQUpT_G.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.O8PoupsA.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BPewk7Uy.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CSCBGoZg.js">
    <link rel="modulepreload" href="/assets/notes_github-actions.md.Bb6mwu9D.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6be653dc><!--[--><!--]--><!--[--><span tabindex="-1" data-v-62779dc5></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-62779dc5>Skip to content</a><!--]--><!----><header class="VPNav" data-v-6be653dc data-v-994cbda3><div class="VPNavBar" data-v-994cbda3 data-v-302a19fc><div class="wrapper" data-v-302a19fc><div class="container" data-v-302a19fc><div class="title" data-v-302a19fc><div class="VPNavBarTitle has-sidebar" data-v-302a19fc data-v-accaa566><a class="title" href="/" data-v-accaa566><!--[--><!--]--><!----><span data-v-accaa566>学习思考的人机</span><!--[--><!--]--></a></div></div><div class="content" data-v-302a19fc><div class="content-body" data-v-302a19fc><!--[--><!--]--><div class="VPNavBarSearch search" data-v-302a19fc><!--[--><!----><div id="local-search"><button type="button" aria-label="Search" aria-keyshortcuts="/ control+k meta+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><span class="vpi-search DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key"></kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-302a19fc data-v-7ff8382b><span id="main-nav-aria-label" class="visually-hidden" data-v-7ff8382b> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-7ff8382b data-v-7a7d2795><!--[--><span data-v-7a7d2795>主页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/notes/" tabindex="0" data-v-7ff8382b data-v-7a7d2795><!--[--><span data-v-7a7d2795>笔记</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/bugs/" tabindex="0" data-v-7ff8382b data-v-7a7d2795><!--[--><span data-v-7a7d2795>都是坑</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-302a19fc data-v-b981d36c><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-b981d36c data-v-2dd18466 data-v-d1c1d235><span class="check" data-v-d1c1d235><span class="icon" data-v-d1c1d235><!--[--><span class="vpi-sun sun" data-v-2dd18466></span><span class="vpi-moon moon" data-v-2dd18466></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-302a19fc data-v-90e9fb48 data-v-fafbcd84><!--[--><a class="VPSocialLink no-icon" href="https://github.com/demonraychen" aria-label="github" target="_blank" rel="me noopener" data-v-fafbcd84 data-v-bdef784e><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-302a19fc data-v-bb489baf data-v-469abd46><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-469abd46><span class="vpi-more-horizontal icon" data-v-469abd46></span></button><div class="menu" data-v-469abd46><div class="VPMenu" data-v-469abd46 data-v-c770ac5a><!----><!--[--><!--[--><!----><div class="group" data-v-bb489baf><div class="item appearance" data-v-bb489baf><p class="label" data-v-bb489baf>Appearance</p><div class="appearance-action" data-v-bb489baf><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb489baf data-v-2dd18466 data-v-d1c1d235><span class="check" data-v-d1c1d235><span class="icon" data-v-d1c1d235><!--[--><span class="vpi-sun sun" data-v-2dd18466></span><span class="vpi-moon moon" data-v-2dd18466></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb489baf><div class="item social-links" data-v-bb489baf><div class="VPSocialLinks social-links-list" data-v-bb489baf data-v-fafbcd84><!--[--><a class="VPSocialLink no-icon" href="https://github.com/demonraychen" aria-label="github" target="_blank" rel="me noopener" data-v-fafbcd84 data-v-bdef784e><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-302a19fc data-v-78e022bd><span class="container" data-v-78e022bd><span class="top" data-v-78e022bd></span><span class="middle" data-v-78e022bd></span><span class="bottom" data-v-78e022bd></span></span></button></div></div></div></div><div class="divider" data-v-302a19fc><div class="divider-line" data-v-302a19fc></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-6be653dc data-v-619a6772><div class="container" data-v-619a6772><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-619a6772><span class="vpi-align-left menu-icon" data-v-619a6772></span><span class="menu-text" data-v-619a6772>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-619a6772 data-v-57444cc1><button data-v-57444cc1>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-6be653dc data-v-758dd38e><div class="curtain" data-v-758dd38e></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-758dd38e><span class="visually-hidden" id="sidebar-aria-label" data-v-758dd38e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-e40b6240><div class="VPSidebarItem level-0 is-link" data-v-e40b6240 data-v-37545967><div class="item" tabindex="0" data-v-37545967><div class="indicator" data-v-37545967></div><a class="VPLink link link" href="/notes/" data-v-37545967><!--[--><p class="text" data-v-37545967>笔记</p><!--]--></a><!----></div><!----></div></div><div class="no-transition group" data-v-e40b6240><section class="VPSidebarItem level-0 has-active" data-v-e40b6240 data-v-37545967><div class="item" role="button" tabindex="0" data-v-37545967><div class="indicator" data-v-37545967></div><h2 class="text" data-v-37545967>CI/CD</h2><!----></div><div class="items" data-v-37545967><!--[--><div class="VPSidebarItem level-1 is-link" data-v-37545967 data-v-37545967><div class="item" data-v-37545967><div class="indicator" data-v-37545967></div><a class="VPLink link link" href="/notes/github-actions.html" data-v-37545967><!--[--><p class="text" data-v-37545967>GitHub Actions</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6be653dc data-v-62d064b3><div class="VPDoc has-sidebar has-aside" data-v-62d064b3 data-v-ce6c9526><!--[--><!--]--><div class="container" data-v-ce6c9526><div class="aside" data-v-ce6c9526><div class="aside-curtain" data-v-ce6c9526></div><div class="aside-container" data-v-ce6c9526><div class="aside-content" data-v-ce6c9526><div class="VPDocAside" data-v-ce6c9526 data-v-6ac964ad><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-6ac964ad data-v-f9f00d28><div class="content" data-v-f9f00d28><div class="outline-marker" data-v-f9f00d28></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f9f00d28>On this page</div><ul class="VPDocOutlineItem root" data-v-f9f00d28 data-v-f9068e4a><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-6ac964ad></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-ce6c9526><div class="content-container" data-v-ce6c9526><!--[--><!--]--><main class="main" data-v-ce6c9526><div style="position:relative;" class="vp-doc _notes_github-actions" data-v-ce6c9526><div><h1 id="github-action-第一次记录" tabindex="-1">Github Action 第一次记录 <a class="header-anchor" href="#github-action-第一次记录" aria-label="Permalink to “Github Action 第一次记录”">​</a></h1><blockquote><p>最近开始学习使用 Github Actions，记录一下第一次使用的经验。 学习 github actions 是因为我的个人网站感觉没有必要使用 jenkins 来实现 CI/CD(很没必要，还占空间)。</p></blockquote><p>Github Actions 的基本操作步骤如下：</p><ol><li><p>github 仓库配置：</p><ul><li>创建 github 仓库之后，需要在仓库的 <code>Settings</code> 选项卡中，针对项目进行配置 <ul><li>Pages: 如果是静态网站，需要在 Pages 选项卡中，选择部署的分支(默认是 <code>gh-pages</code> 分支，新建项目没有这个分支，建议选择)。</li><li>Actions: 主要需要配置一些需要在项目中使用的的环境变量，例如 <code>GITHUB_TOKEN</code> 等。</li></ul></li></ul></li><li><p>项目文件配置:</p><ul><li><p>新增 <code>.github/workflows</code> 目录，用于存放 workflow 文件。</p><ul><li>在 <code>workflows</code> 目录下，新增一个 YAML 文件，用于定义 workflow。</li><li>在 YAML 文件中，定义 workflow 的触发条件和 job 的执行步骤。这里以 vitepress 作为示例：</li></ul></li></ul></li></ol><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 构建 VitePress 站点并将其部署到 GitHub Pages 的示例工作流程</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deploy VitePress site to Pages</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 在针对 `main` 分支的推送上运行。如果你</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 使用 `master` 分支作为默认分支，请将其更改为 `master`</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 允许你从 Actions 选项卡手动运行此工作流程</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  workflow_dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置 GITHUB_TOKEN 的权限，以允许部署到 GitHub Pages</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">permissions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  contents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">read</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  pages</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">write</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  id-token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">write</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 只允许同时进行一次部署，跳过正在运行和最新队列之间的运行队列</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 但是，不要取消正在进行的运行，因为我们希望允许这些生产部署完成</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">concurrency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pages</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  cancel-in-progress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 构建工作</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Checkout</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/checkout@v5</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          fetch-depth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 如果未启用 lastUpdated，则不需要</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm/action-setup@v4</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 如果使用 pnpm，请取消此区域注释</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # with:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        #   version: 10</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Setup Node</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/setup-node@v6</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          node-version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          cache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 或 pnpm / yarn</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Setup Pages</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/configure-pages@v4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Install dependencies</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm install</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 或 pnpm install / yarn install / bun install</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Build with VitePress</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pnpm docs:build</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 或 pnpm docs:build / yarn docs:build / bun run docs:build</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Upload artifact</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/upload-pages-artifact@v3</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">docs/.vitepress/dist</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 部署工作</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">github-pages</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">${{ steps.deployment.outputs.page_url }}</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    needs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">build</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deploy</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deploy to GitHub Pages</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">deployment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/deploy-pages@v4</span></span></code></pre></div><ol start="3"><li>提交并推送该文件到 Github 仓库。</li><li>当触发条件满足时，Github Actions 会自动创建一个新的运行实例，执行定义的 job 步骤。</li></ol><h2 id="一些说明" tabindex="-1">一些说明 <a class="header-anchor" href="#一些说明" aria-label="Permalink to “一些说明”">​</a></h2><ul><li><p>关于 PAT(Person Access Token): 在 github actions 的使用过程中，大概率是不需要这个的(官方默认提供了一个 GITHUB_TOKEN, 配合 permissions 配置即可)，我看的一些博客的示例中有(可能是因为是前几年写的)关于需要使用到的权限等问题，可以直接在 permissions 中配置。这部分可以知己查看 <a href="https://docs.github.com/zh/actions/tutorials/create-an-example-workflow" target="_blank" rel="noreferrer">Github Actions 官方文档</a></p></li><li><p>没事可以查看一下有没有自己用得上的 Action: <a href="https://github.com/marketplace" target="_blank" rel="noreferrer">Github Actions Maker</a></p></li></ul></div></div></main><footer class="VPDocFooter" data-v-ce6c9526 data-v-119d3669><!--[--><!--]--><div class="edit-info" data-v-119d3669><!----><div class="last-updated" data-v-119d3669><p class="VPLastUpdated" data-v-119d3669 data-v-f80f008e>最后更新: <time datetime="2026-01-15T03:08:03.000Z" data-v-f80f008e></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-119d3669><span class="visually-hidden" id="doc-footer-aria-label" data-v-119d3669>Pager</span><div class="pager" data-v-119d3669><a class="VPLink link pager-link prev" href="/notes/" data-v-119d3669><!--[--><span class="desc" data-v-119d3669>上一页</span><span class="title" data-v-119d3669>笔记</span><!--]--></a></div><div class="pager" data-v-119d3669><!----></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-6be653dc data-v-7f78fc35><div class="container" data-v-7f78fc35><p class="message" data-v-7f78fc35>Released under the MIT License.</p><p class="copyright" data-v-7f78fc35>Copyright © 2021-present</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"bugs_android_index.md\":\"BjMOvzv8\",\"bugs_index.md\":\"BBF14Jew\",\"index.md\":\"BrkrW-q0\",\"notes_github-actions.md\":\"Bb6mwu9D\",\"notes_index.md\":\"BJoIxXbx\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"学习思考的人机\",\"description\":\"记录思考, 分享知识\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"主页\",\"link\":\"/\"},{\"text\":\"笔记\",\"link\":\"/notes/\"},{\"text\":\"都是坑\",\"link\":\"/bugs/\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/demonraychen\"}],\"sidebar\":{\"/notes/\":[{\"text\":\"笔记\",\"link\":\"/notes/\",\"items\":[]},{\"text\":\"CI/CD\",\"items\":[{\"text\":\"GitHub Actions\",\"link\":\"/notes/github-actions\"}]}],\"/bugs/\":[{\"text\":\"都是坑\",\"link\":\"/bugs/\",\"items\":[{\"text\":\"Android\",\"collapsed\":false,\"link\":\"/bugs/android/\",\"items\":[]}]}]},\"lastUpdated\":{\"text\":\"最后更新\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"medium\"}},\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"},\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2021-present\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>